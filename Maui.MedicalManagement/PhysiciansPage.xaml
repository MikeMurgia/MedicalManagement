<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Maui.MedicalManagement.PhysiciansPage"
             Title="Physicians"
             BackgroundColor="#FFFFFF"
             NavigatedTo="ContentPage_NavigatedTo">

	<Grid RowDefinitions="Auto,*,Auto" Padding="10">

		<!-- Header with Add Button -->
		<HorizontalStackLayout Grid.Row="0"
                               HorizontalOptions="End"
                               Margin="0,10">
			<Button Text="Add New Physician"
                    Clicked="AddClicked"
                    BackgroundColor="#4CAF50"
                    TextColor="White"/>
		</HorizontalStackLayout>

		<!-- Physicians List -->
		<CollectionView Grid.Row="1"
                        ItemsSource="{Binding Physicians}"
                        SelectionMode="Single"
                        SelectedItem="{Binding SelectedPhysician}"
                        Margin="0,10">
			<CollectionView.ItemTemplate>
				<DataTemplate>
					<Frame Margin="5"
                           Padding="15"
                           BackgroundColor="#FFFFFF"
                           BorderColor="#BDBDBD"
                           CornerRadius="10"
                           HasShadow="True">
						<Grid ColumnDefinitions="*,Auto">
							<VerticalStackLayout Grid.Column="0" Spacing="5">
								<Label Text="{Binding Model.Display}"
                                       FontAttributes="Bold"
                                       FontSize="16"
                                       TextColor="#212121"/>
								<HorizontalStackLayout Spacing="10">
									<Label Text="License:"
                                           TextColor="#757575"
                                           FontSize="12"/>
									<Label Text="{Binding Model.License}"
                                           TextColor="#424242"
                                           FontSize="12"
                                           FontAttributes="Bold"/>
								</HorizontalStackLayout>
								<HorizontalStackLayout Spacing="10">
									<Label Text="Graduation:"
                                           TextColor="#757575"
                                           FontSize="12"/>
									<Label Text="{Binding Model.GraduationDate, StringFormat='{0:MM/dd/yyyy}'}"
                                           TextColor="#757575"
                                           FontSize="12"/>
								</HorizontalStackLayout>
								<Label Text="{Binding Model.Specializations}"
                                       TextColor="#1976D2"
                                       FontSize="12"
                                       FontAttributes="Italic"/>
							</VerticalStackLayout>

							<HorizontalStackLayout Grid.Column="1"
                                                   Spacing="5"
                                                   VerticalOptions="Center">
								<Button Text="Edit"
                                        Command="{Binding EditCommand}"
                                        CommandParameter="{Binding .}"
                                        BackgroundColor="#2196F3"
                                        TextColor="White"
                                        Padding="10,5"/>
								<Button Text="Delete"
                                        Command="{Binding DeleteCommand}"
                                        BackgroundColor="#F44336"
                                        TextColor="White"
                                        Padding="10,5"/>
							</HorizontalStackLayout>
						</Grid>
					</Frame>
				</DataTemplate>
			</CollectionView.ItemTemplate>
		</CollectionView>

		<!-- Refresh Button -->
		<Button Grid.Row="2"
                Text="Refresh"
                Clicked="RefreshClicked"
                BackgroundColor="#FF9800"
                TextColor="White"
                HorizontalOptions="Center"
                WidthRequest="150"
                Margin="0,10"/>

	</Grid>

</ContentPage>
